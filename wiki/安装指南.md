# 安装指南

本指南介绍 PyWxDump 的所有安装方式。

## 方式一：下载可执行文件（小白推荐）

最简单的使用方式：

1. 访问 [Releases 页面](https://github.com/xaoyaoo/PyWxDump/releases)
2. 下载最新版本的 `wx_dump.exe` 文件
3. 双击运行即可

## 方式二：pip 安装（稳定版）

```bash
pip install -U pywxdump
```

这将从 PyPI 安装最新稳定版本。

## 方式三：源码安装（最新版）

### 基础安装（无 Web 界面）

```bash
pip install -U git+git://github.com/xaoyaoo/PyWxDump.git
```

> **注意**：此方式不包含网页界面，浏览器访问会显示 404 错误。

### 完整安装（包含 Web 界面）

```bash
# 克隆并构建 Web 界面
git clone https://github.com/xaoyaoo/wxdump_web.git
cd wxdump_web
npm run build
cd ..

# 克隆 PyWxDump
git clone https://github.com/xaoyaoo/PyWxDump.git

# 复制 Web 界面文件
cp -r wxdump_web/dist PyWxDump/pywxdump/ui/web

# 安装 PyWxDump
cd PyWxDump
python -m pip install -U .
```

## 方式四：打包可执行文件

如果需要自行打包 exe 文件：

### 前提条件
- 已安装 Python 环境
- 已下载源码
- 已安装 PyInstaller
- 已完成 [方式三](#方式三源码安装最新版) 的安装

### 打包步骤

```bash
cd tests
python build_exe.py

# 执行生成的 pyinstaller 命令
pyinstaller --clean --distpath=dist dist/pywxdump.spec
```

打包后的可执行文件位于 `dist` 文件夹中。

## 主要依赖

PyWxDump 需要以下主要依赖：

| 依赖包 | 用途 |
|--------|------|
| `pycryptodomex` | AES 加密/解密 |
| `uvicorn` | ASGI 服务器 |
| `fastapi` | Web API 框架 |
| `psutil` | 进程工具 |

安装所有依赖：

```bash
pip install -r requirements.txt
```

## 验证安装

安装完成后，验证是否成功：

```bash
# pip 安装方式
wxdump --version

# 可执行文件方式
./wxdump.exe --version
```

正常输出：
```
PyWxDump v3.1.45
```

## 常见问题

| 问题 | 解决方案 |
|------|----------|
| 命令未找到 | 将 Python Scripts 文件夹添加到 PATH 环境变量 |
| 模块未找到 | 执行 `pip install -r requirements.txt` |
| 权限不足 | 以管理员身份运行终端 |
| DLL 加载失败 | 安装 Visual C++ 运行库 |

---

[返回首页](Home.md) | [下一步：快速开始](快速开始.md)
